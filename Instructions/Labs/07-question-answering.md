---
lab:
  title: 搭配 Language Studio 使用問題解答
---

# 搭配 Language Studio 使用問題解答

在此練習中，您將使用 Language Studio 來建立和訓練客戶服務 Bot 將使用的問答知識庫。 知識庫的內容將來自 Margie’s Travel (一間虛構的旅行社) 網站上現有的常見問題。 接著，您將使用 Language Studio 來查看客戶使用時的運作方式。

Azure AI 語言包含*問題解答*功能，您將用以建立知識庫。 您可以手動輸入問答組，或從現有的文件或網頁建立知識庫。 Margie’s Travel 想要使用其現有的常見問題文件。

語言服務的問題解答功能可讓您透過輸入問答組，或從現有文件或網頁快速建立知識庫。 然後，它可以使用一些內建的自然語言處理功能來解譯問題並尋找適當的答案。

## 建立*語言*資源

若要使用問題解答，則您需要**語言**資源。

1. 在另一個瀏覽器索引標籤中，開啟位於 [https://portal.azure.com](https://portal.azure.com?azure-portal=true) 的 Azure 入口網站，並使用與您的 Azure 訂用帳戶相關聯的 Microsoft 帳戶登入。

1. 按一下 [&#65291;建立資源]**** 按鈕並搜尋*語言服務*。 選取 [建立]**** **語言服務**方案。 系統會帶您到一個頁面，以**選取其他功能**。 使用下列設定：
    - **選取其他功能**：
        - **預設功能**：保留預設功能**。
        - **自訂功能**：選取自訂問題解答**。
     - 選取 [繼續建立您的資源]****
    ![建立已啟用自訂問題解答的語言服務資源。](media/create-a-bot/create-language-service-resource.png)

1. 在 [建立語言]**** 頁面上，指定下列設定：
    - **專案詳細資料**
        - **訂用帳戶**：*您的 Azure 訂用帳戶*。
        - **資源群組**：*選取現有資源群組或建立新的資源群組*。
    - **執行個體詳細資料**
        - **區域**：*選取區域。如果在美國東部，請使用 "美國東部 2"*      
        - **名稱**：語言資源的唯一名稱**。
        - **定價層**：S (每分鐘 1K 次呼叫)
    - **自訂問題解答**
        - **Azure 搜尋服務位置**：任何可用的位置**。
        - **Azure 搜尋服務定價層**：免費 F (3 個索引) (*若此階層不可用，則選取 [基本]*)
    - **負責任 AI 注意事項**
        - **核取此方塊表示我確認已檢閱並認同「負責任 AI 注意事項」中的條款。**：選取**。

1. 選取 [檢閱及並建立]****，然後選取 [建立]****。 等候語言服務的部署，其將支援您的自訂問題解答知識庫。

    > **注意**如果您已佈建免費層 **Azure 認知搜尋**資源，您的配額可能不允許您建立另一個資源。 在此情況下，請選取 [免費 F]**** 以外的層。

## 建立新專案

1. 在新的瀏覽器索引標籤中，開啟位於 [https://language.azure.com](https://language.azure.com?azure-portal=true) 的 Language Studio 入口網站，然後使用與您的 Azure 訂用帳戶相關聯的 Microsoft 帳戶登入。
1. 若系統提示您選擇語言資源，請選取下列設定：
    - **Azure 目錄**：*包含您訂用帳戶的 Azure 目錄*。
    - **Azure 訂用帳戶**：您的 Azure 訂用帳戶**。
    - **語言資源**：*您先前建立的語言資源*。

    如果您***未***收到選擇語言資源的提示，可能是因為您的訂用帳戶中有多個語言資源；在此情況下：
    1. 在頁面頂端的列上，選取 [設定 (&#9881;)]****。      
    1. 在 [設定]**** 分頁上，檢視 [資源]**** 索引標籤。
    1. 選取您剛才建立的語言資源，然後選取 [切換資源]****。
    1. 在頁面頂端，選取 [Language Studio]**** 以回到 Language Studio 首頁。

1. 在 Language Studio 入口網站頂端的 [新建]**** 功能表中，選取 [自訂問題解答]****。

    ![自訂問題解答](media/create-a-bot/create-custom-question-answering.png)

1. 在 [選擇資源 *your resource* 的語言設定]**** 頁面上，選取 [當我在此資源中建立專案時，我想選取語言]****，然後按 [下一步]****。
  ![我想選取語言](media/create-a-bot/create-project.png)

1. 在 [輸入基本資訊]**** 頁面上，輸入下列詳細資料，然後按 [下一步]****：
    - **語言資源**：*選擇您的語言資源*。  
    - **Azure 搜尋服務資源**：*選擇您的 Azure 搜尋資源*。
    - **名稱**：`MargiesTravel`
    - **描述**：`A simple knowledge base`
    - **來源語言**：英文
    - **未傳回任何答案時的預設答案**：`No answer found`
1. 在 [檢閱和完成]**** 頁面上，選取 [建立專案]****。
1. 系統將帶您前往 [管理來源]**** 頁面。 選取 [&#65291;新增來源]****，然後選取 [URL]****。
1. 在 [新增 URL]**** 方塊中，選取 [+ 新增 URL]****。 輸入下列資料，然後選取 [全部新增]****：
    - **URL 名稱**：`MargiesKB`
    - **URL**：`https://raw.githubusercontent.com/MicrosoftLearning/mslearn-ai-fundamentals/main/data/natural-language/margies_faq.docx`
    - **分類檔案結構**：自動偵測**
1. 選取 [新增全部]****。  

 ![新增 URL](media/create-a-bot/add-url.png)

## 編輯知識庫

您的知識庫是以常見問題集文件和一些預先定義的回應為基礎。 您可以新增自訂的問答配對來補充這些配對內容。

1. 展開左側面板，然後選取 [編輯知識庫]****。 然後選取 **+** 以新增新的問題組。
1. 在 [新增問題組]**** 對話方塊中，於 [問題]**** 類型中輸入 `Hello`，然後在 [回應]**** 類型中輸入 `Hi`，然後選取 [完成]****。
1. 展開 [替代問題]**** 然後選取 [+ 新增替代問題]****。 然後輸入 `Hiya` 作為「Hello」的替代片語。
1. 在 [問題解答組]**** 窗格頂端，選取 [儲存]**** 以儲存知識庫。

## 定型和測試知識庫

現在您已擁有知識庫，您可以進行測試。

1. 在 [問題解答組]**** 窗格頂端，選取 [測試]**** 以測試知識庫。
1. 在測試窗格底部輸入訊息 `Hi`。 應該傳回回應 *Hi*。
1. 在測試窗格底部輸入訊息 `I want to book a flight`。 應該會從常見問題集中傳回適當的回應。

    > **注意** 回應包含「簡短答案」** 以及更詳細的「答案段落」**- 答案段落顯示常見問題集文件中最相符問題的全文，而簡短答案是從段落中巧妙擷取。 您可以使用測試窗格頂端的 [顯示簡短答案]**** 核取方塊，來控制簡短答案是否來自該回應。

1. 嘗試其他問題，例如 `How can I cancel a reservation?`
1. 完成知識庫測試之後，選取 [測試]**** 來關閉測試窗格。

## 部署您的專案

您可以將知識庫部署為用戶端應用程式，以回答問題。

1. 在左側面板中，選取 [部署知識庫]****。
1. 在頁面頂端，選取 [部署]****。 對話方塊會詢問您是否要部署專案。 選取**部署**。

 ![部署知識庫。](media/create-a-bot/deploy-knowledge-base.png)

## 清理

如果您不打算進行更多的練習，請刪除不再需要的任何資源。 這可以避免產生任何不必要的成本。

1. 開啟 [Azure 入口網站]( https://portal.azure.com)，然後選取您建立的資源所屬的資源群組。 
1. 選取資源並選取 [刪除]****，然後再選取 [是]**** 加以確認。 接著即會刪除該資源。

## 深入了解

- 若要深入了解問題解答服務，請檢視[文件](https://docs.microsoft.com/azure/cognitive-services/language-service/question-answering/overview)。
