---
lab:
  title: 分析 Azure AI Foundry 入口網站中的影像
---

# 分析 Azure AI Foundry 入口網站中的影像

**Azure AI 視覺**包含許多功能，可用來了解影像內容和內容，以及從影像擷取資訊。 在此練習中，您將在 Microsoft 用來建立智慧型應用程式的平台 Azure AI Foundry 入口網站中使用 Azure AI 視覺，借助內建試用體驗分析影像。 

假設虛構零售業者 *Northwind Traders* 已決定實作「智慧商店」，由 AI 服務監視商店，以識別需要協助的客戶，並指示員工協助他們。 使用 Azure AI 視覺，可以分析整間商店的攝影機拍攝的影像，以提供其拍攝內容有意義的說明。

此練習大約需要 **20 分鐘**。

## 下載並擷取影像檔案

1. 從 `https://aka.ms/mslearn-images-for-analysis` 下載 **[image-analysis.zip](https://aka.ms/mslearn-images-for-analysis)**。
1. 將已下載的 zip 檔案解壓縮到電腦上的資料夾。

## 在 Azure AI Foundry 入口網站中建立專案

1. 在網頁瀏覽器中，開啟 [Azure AI Foundry 入口網站](https://ai.azure.com) 於`https://ai.azure.com` 並使用您的 Azure 認證登入。 關閉首次登入時開啟的所有提示或快速啟動窗格，如有必要，使用左上角的 **Azure AI Foundry** 標誌瀏覽到首頁，首頁類似於下圖（若 [說明]**** 窗格已開啟，請將其關閉）：

    ![Azure AI Foundry 入口網站首頁的螢幕擷取畫面。](./media/ai-foundry-portal.png)

1. 捲動至頁面底部，然後選取 [探索 Azure AI 服務]**** 圖格。

    ![[探索 Azure AI 服務] 圖格的螢幕擷取畫面。](./media/ai-services.png)

1. 在 [Azure AI 服務] 頁面中，選取 [視覺 + 文件]**** 圖格。

    ![[視覺 + 文件] 圖格的螢幕擷取畫面。](./media/vision-tile.png)

1. 在 [視覺 + 文件]**** 頁面上，檢視 [影像]**** 索引標籤，然後選取 [影像字幕]**** 圖格。

    ![影像字幕圖格的螢幕擷取畫面。](./media/image-captioning-tile.png)

1. 在 [將字幕新增至影像]**** 窗格中，使用 [選取中樞]**** 按鈕以及下列設定來**建立新中樞**：
    - **中樞名稱**：*輸入中樞的有效名稱。*
    - **訂用帳戶**：您的 Azure 訂用帳戶**
    - **資源群組**：建立或選取資源群組**
    - **位置**：*請選取下列其中一個位置*/*：
        - 美國東部
        - 法國中部
        - 南韓中部
        - 西歐
        - 美國西部
    - **連接 Azure AI 服務**：*使用有效名稱建立新的 Azure AI 服務資源*
    - **連接 Azure AI 搜尋服務**：跳過連接

    \**在撰寫本文時，Azure AI 視覺適用於這些區域的中樞*。

1. 建立中樞後，系統會提示您建立專案。 輸入適當的專案名稱，然後選取 [建立專案]****。

## 產生影像的輔助字幕

讓我們使用 Azure AI 視覺的影像輔助字幕功能來分析 *Northwind Traders* 商店中相機拍攝的影像。 影像輔助字幕可透過 [輔助字幕]**** 和 [密集輔助字幕]**** 功能來取得。

1. 在左側的工作窗格中，選取 [AI 服務]****。

    *現在，您需要重複先前使用的步驟，以返回影像字幕介面並使用新的中樞型專案。*

1. 在 [Azure AI 服務]**** 頁面中，選取 [視覺 + 文件]**** 圖格。 然後在 [視覺 + 文件]**** 頁面的 [影像]**** 索引標籤上，選取 [影像字幕]**** 圖格。

1. 在 [將字幕新增至影像]**** 頁面的 [已連結的 Azure AI 服務] ** 選取功能表下方，確定已選取在中樞中建立的 Azure AI 服務資源。

1. 使用 [瀏覽檔案]**** 連結，從您稍早下載並解壓縮的檔案上傳 **store-camera-1.jpg** 影像。

1. 觀察產生的輔助字幕文字，該文字會顯示在影像右側的 [偵測到的屬性]**** 面板中。

    ![使用分析影像將字幕新增至影像頁面的螢幕擷取畫面。](./media/image-captioning.png)

    [輔助字幕]**** 功能提供描述影像內容的單一人類可讀英文句子。

1. 接下來，使用相同的影像來執行 [密集輔助字幕]****。 選取頁面頂端的 **&larr;**[返回]** 箭頭以返回 [視覺 + 文件]**** 頁面，然後在 [視覺 + 文件]**** 頁面的 [影像]**** 索引標籤上，選取 [密集字幕]**** 圖格。

    [密集輔助字幕]**** 功能與 [輔助字幕]**** 功能不同，因為它為影像提供多個人類可讀的輔助字幕，其中一種描述影像的內容，另一種涵蓋了圖片中偵測到的重要物件。 每個偵測到的物件都包含週框方塊，此方塊會定義與物件相關聯影像內的像素座標。

1. 再次上傳 **store-camera-1.jpg** 影像，並查看密集字幕結果。

    ![密集字幕結果的螢幕擷取畫面。](./media/dense-captioning.png)

    將滑鼠停留在 [偵測到的屬性]**** 清單中的任何字幕上，並觀察影像中偵測到的每個物件都會產生字幕。

## 標記影像 

您將嘗試的下一個功能是 [擷取標籤]** 功能。 擷取標籤是以數千個可辨識的物件為基礎，包括生物、風景和動作。

1. 選取頁面頂端的 **&larr;**[返回]** 箭號，返回 [視覺 + 文件]**** 頁面。 在 [視覺 + 文件]**** 頁面的 [影像]**** 索引標籤上，選取 [常見標籤擷取]**** 圖格。
1. 從您先前擷取的資料夾上傳 **store-camera-2.jpg** 檔案。
1. 檢閱從影像擷取的標籤清單，以及偵測到的屬性面板中每個標籤的信賴度分數。 在這裡，信賴度分數是偵測到的屬性文字描述影像中實際內容的可能性。 請注意，標籤清單中不僅包含物件，也包括*購物*、*銷售*及*站立*等動作。

    ![Vision Studio 中偵測屬性面板的螢幕擷取畫面，其中顯示於原始影像旁的文字和信賴度分數。](./media/analyze-images-vision/detect-attributes.png)

## 物件偵測

在這項工作中，您會使用影像分析的 [物件偵測]**** 功能。 物件偵測會根據數千個可辨識的物件和生物來偵測和擷取週框方塊。

1. 選取頁面頂端的 **&larr;**[返回]** 箭號，返回 [視覺 + 文件]**** 頁面。 然後在 [影像]**** 索引標籤上，選取 [通用物件偵測]**** 圖格。

1. 上傳 **store-camera-3.jpg** 檔案。

1. 在 [偵測到的屬性]**** 方塊中，觀察偵測到的物件清單及其信賴度分數。

    ![密集字幕結果的螢幕擷取畫面。](./media/object-detection.png)

1. 嘗試偵測 **store-camera-4.jpg** 中的物件

## 清理

如果您不打算進行更多的練習，請刪除不再需要的任何資源。 這可以避免產生任何不必要的成本。

1. 開啟 [Azure 入口網站]( https://portal.azure.com)，然後選取包含您所建立資源的資源群組。 
1. 選取 [刪除資源群組]****，然後**輸入資源群組的名稱**以確認。 接著即會刪除該資源群組。

## 深入了解

若要深入了解此服務的功能，請參閱 [Azure AI 視覺頁面](https://learn.microsoft.com/azure/ai-services/computer-vision/overview)。
